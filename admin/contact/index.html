<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Brand</title>
    <link rel="stylesheet" href="../admin css/admin.css">
    <script src="https://kit.fontawesome.com/3ac835aa79.js" crossorigin="anonymous"></script>
</head>

<body>
    <div id="header">
        <div class="homepage__container">
           <nav>
            
            <img src="/pics used/beno logo 2.png" class="logo">
          
           <ul id="sidemenu">
            <li><a href="/index.html" >Home </a></li>
           </ul>
    
         </div>
    
    </div>
    <div class="mainaboutme">
        <div class="about-col-1">
            <ul>
               <li><a href="../blog post/blog.html">Manage Blog</a></li>
               <li><a href="../users/index.html">Manage Users</a></li>
               <li><a href="index.html">Manage Contact</a></li>
            </ul>
        </div>

        
    <div class="about-col-2">

        <div class="content">
            <h2 class="page-title">Read Message</h2>

            <table class="contact_table" id="messages">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Email</th>
                    <th>Message</th>
                  </tr>
                </thead>
                <tbody class="table-body">

                </tbody> 
            </table>          
        </div>    
     </div>         
    </div>
    
<script>

const messages = document.querySelector(".table-body");

fetch("https://beno-backend.onrender.com/contact/message")
  .then((response) => {
    if (!response.ok) {
      throw new Error("Network response was not ok");
    }
    return response.json();
  })
  .then((data) => {
    data.messages.forEach((message) => {
      const row = `
        <tr>
          <td>${message.name}</td>
          <td>${message.email}</td>
          <td>${message.message}</td>
        </tr>
      `;
      messages.insertAdjacentHTML('afterbegin', row);
    });
  })
  .catch((error) => {
    console.error("Error fetching messages:", error);
  });

</script>
   
</body>
</html>
